/*!
 * Simple & awesome JavaScript library for BROGRAMMERS B-)
 * https://github.com/carlosjln/epic
 * 
 * Copyright 2015
 * Released under MIT License
 * https://github.com/carlosjln/epic/blob/master/LICENSE
 * 
 * Author: Carlos J. Lopez
 * https://github.com/carlosjln
 */
var epic=function(){function n(){return"Hello world :)"}function t(){typeof console!="undefined"&&console.log(n.object.to_array(arguments))}function i(n,r){var u=new Error(n,r);if(this instanceof i)return u;t(u)}return n.type=function(){function n(n){var r=typeof n;return n===null?"null":r==="object"||r==="function"?t[i.call(n)]||"object":r}var t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"},i=t.toString;return n.is_window=function(n){return n!==null&&n===n.window},n.is_numeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},n.is_undefined=function(n){return typeof n=="undefined"},n.is_array=function(t){return n(t)==="array"},n.is_function=function(t){return n(t)==="function"},n.is_string=function(t){return n(t)==="string"},n.is_object=function(t){return n(t)==="object"},n.is_boolean=function(t){return n(t)==="boolean"},n.is_regexp=function(t){return n(t)==="regexp"},n.is_element=function(n){var t=typeof HTMLElement=="object";return t?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"},n}(),n.parse={currency:function(n,t){arguments.length===1&&(t=n,n=null);for(var f=t+"",r=f.split("."),i=r[0],e=r.length>1?"."+r[1]:"",u=/(\d+)(\d{3})/;u.test(i);)i=i.replace(u,"$1,$2");return(n?n+" ":"")+i+e},url:function(n){var t=document.createElement("a"),i={};return t.href=n,t.search.replace(/([^?=&]+)(=([^&]*))?/g,function(n,t,r,u){return i[t]=u,n}),{href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,path:t.pathname,query:i,bookmark:t.hash}}},n.log=t,n.fail=i,n.uid=function(){function n(){}function i(){return++n.seed}var t="__::UID::__";return n.seed=(new Date).getTime(),n.token=t,n.next=i,n.get=function(i){return i[t]||(i[t]=++n.seed)},n}(),n.start=function(){this.fail("Oops! :$ The [onready] feature isn't ready yet.")},n}();(function(n){function i(n){return new r(n,u(arguments))}function r(n,t){this.object=n;this.parameters=t}function t(n,i,r){var s,h,o=f(n),u,e;if(r=r===!0,o==="date")return i=new Date,i.setTime(n.getTime()),i;if(o==="array"&&r===!1){for(u=n.length,i=i===undefined?[]:i;u--;)i[u]=t(n[u],i[u],r);return i}if(o==="object"){i=i===undefined?{}:i;for(e in n)n.hasOwnProperty(e)&&(s=n[e],h=i[e],i[e]=t(s,h,r));return i}return r?i!==undefined?i:n:n}function e(){for(var i=arguments,u=i.length,r={},n=0;n<u;n++)t(i[n],r);return r}function u(n){return n===undefined||n===null?[]:n instanceof Array?n:isFinite(n.length)?Array.prototype.slice.call(n):[n]}function o(n,i){if(typeof n!="function")return!1;var r=n.prototype;return t(i,n,!0),typeof i=="function"?(t(i.prototype,r,!0),r.constructor=n,r.baseclass=i,r.base=function(){this.baseclass.apply(this,arguments)}):t(i,r,!0),!0}var f=n.type;i.merge=e;i.copy=t;i.to_array=u;i.extend=o;i.dsl=r;n.object=i})(epic),function(n){function t(n){return new i(n,u.call(arguments))}function i(n,t){this.input=n;this.parameters=t}function f(n){var t=n.charCodeAt(0);return t>31&&t<96||t>96&&t<127?n:"&#"+t+";"}function e(n){var t=n.charCodeAt(0);return t!==34&&t!==39&&t!==38&&t!==60&&t!==62&&(t>31&&t<96||t>96&&t<127)?n:"&#"+t+";"}function o(n){return String.fromCharCode(n.replace(/[#&;]/g,""))}function s(n){for(var i=r,u=t.encode_utf8(n),y=u.length,f=0,h="",c,e,o,a,v,l,s;f<y;)c=u.charCodeAt(f++),e=u.charCodeAt(f++),o=u.charCodeAt(f++),a=c>>2,v=(c&3)<<4|e>>4,l=(e&15)<<2|o>>6,s=o&63,isNaN(e)?l=s=64:isNaN(o)&&(s=64),h=h+i.charAt(a)+i.charAt(v)+i.charAt(l)+i.charAt(s);return h}function h(n){for(var e=r,u=n.replace(/[^A-Za-z0-9\+\/\=]/g,""),y=u.length,f=0,i="",c,l,a,v,s,o,h;f<y;)v=e.indexOf(u.charAt(f++)),s=e.indexOf(u.charAt(f++)),o=e.indexOf(u.charAt(f++)),h=e.indexOf(u.charAt(f++)),c=v<<2|s>>4,l=(s&15)<<4|o>>2,a=(o&3)<<6|h,i=i+String.fromCharCode(c),o!==64&&(i=i+String.fromCharCode(l)),h!==64&&(i=i+String.fromCharCode(a));return t.decode_utf8(i)}function c(n){for(var r=n.replace(/\r\n/g,"\n"),u=r.length,f=0,i="",t;u--;)t=r.charCodeAt(f++),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i}function l(n){for(var e=n.length,t=0,r="",i,u,f;t<e;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(u=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|u&63),t+=2):(u=n.charCodeAt(t+1),f=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(u&63)<<6|f&63),t+=3);return r}function a(n){return encodeURIComponent(n)}function v(n){return decodeURIComponent(n)}function y(n,t){return n.replace(/./g,t?e:f)}function p(n){return n.replace(/&#(\d)+;/g,o)}function w(n){return n.toUpperCase()}function b(n){return n.toLowerCase()}function k(n,t){return n=n.replace(/^\s+|\s+$/gm,""),t&&(n=n.replace(/\s+/g," ")),n}function d(n){return/^(?:\s*(<[\w\W]+>)[^>]*)$/img.test(n)}function g(t){return n.html.create.document_fragment(t)}function nt(n){return n.charAt(0).toUpperCase()+n.slice(1)}var u=Array.prototype.slice,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode_base64=s;t.decode_base64=h;t.encode_utf8=c;t.decode_utf8=l;t.encode_url=a;t.decode_url=v;t.encode_html_entities=y;t.decode_html_entities=p;t.uppercase=w;t.lowercase=b;t.capitalize=nt;t.trim=k;t.is_html=d;t.to_dom=g;t.dsl=i;n.string=t}(epic),function(n){function t(t){return new i(t,n.object.to_array(arguments))}function i(n,t){this.object=n;this.parameters=t}function u(n,t,i){n.splice(t,i)}function r(n,t){for(var i=n.length>>>0;i--;)if(n[i]===t)return i;return-1}t.flatten=function(n){var t=[];return t.concat.apply(t,n)};t.each=function(n,t,i){var r=0,u=n.length;for(i=i||n;r<u;r++)t.call(i,n[r],r,n);return n};t.every=function(n,t,i){var r=0,u=n.length;for(i=i||n;r<u;r++)if(!t.call(i,n[r],r,n))return!1;return!0};t.filter=function(n,t,i){var e=n.length,r=0,u=[],f;for(i=i||n;r<e;r++)f=n[r],t.call(i,f,r,n)&&(u[u.length]=f);return u};t.indexof=function(n,t,i){var r=n.length>>>0;for(i=+i||0,Math.abs(i)===Infinity&&(i=0),i<0&&(i+=r,i<0&&(i=0));i<r;i++)if(n[i]===t)return i;return-1};t.locate=r;t.contains=function(n,t){return r(n,t)>-1?!0:!1};t.remove=u;t.dsl=i;n.array=t}(epic),function(n){function i(){var n=this;n.collection={};n.list=[]}function r(n,i,r){if(n===undefined||i===undefined)return null;n=t(n);var u=this,f=u.collection[n],e=f?f.index:u.list.length;return f&&!r?null:(u.collection[n]={key:n,value:i,index:e},u.list[e]=i,i)}function u(n,t,i){if(!(t instanceof Array))return null;for(var e=this,o=t.length,s=0,r,u,f=[];o--;)r=t[s++],u=r[n],e.set(u,r,i),f[f.length]=(e.collection[u]||{}).value;return f}function f(n){n=t(n);var i=this,r=i.collection[n]||{};return r.value}function e(n){n=t(n);var i=this,r=i.collection[n]||{},u=r.value,f=r.index;return u?(delete i.collection[n],i.list.splice(f,1),u):undefined}function t(n){return String(n)}i.prototype={set:r,get:f,remove:e,set_items:u};n.collection=i}(epic),function(n,t,i,r){function c(t){for(var o=t.length,s=0,i,r,u,f,e;o--;)if(i=t[s++],r=i[0],u=i[1],f=i[2],e=i[3],r&&r.indexOf(f||u)>-1)return new RegExp((e||f||u)+"[\\/\\s](\\d+\\.\\d+)").test(r),[n.string.lowercase(u),parseFloat(RegExp.$1)];return null}function v(n){var r=i.createElement("a"),u,t="";return r.href=i.location,u=parseInt(r.port,10),n&&(t=r.pathname.replace(/^[\/]/,""),t&&(t=t.substring(0,t.lastIndexOf("/"))+"/")),r.protocol+"//"+r.hostname+(u&&u!==0?":"+u:"")+"/"+t}function y(n,t,r){var o,c="src",h,l=typeof t,u,e,a;return(/^http/i.test(n)===!1&&(n=f.url+n),s[n]!==null)?(r&&r.free(),s[n].element):(l==="function"&&(r=t),l!=="string"&&(t=n.split("?")[0].file_ext()),t==="js"?(o="script",h=t="javascript"):(o="link",c="href",h="stylesheet"),u=i.createElement(o),u.setAttribute("type","text/"+t),u.setAttribute("rel",h),u.setAttribute(c,n),e={element:u,loaded:!1,callback:r},r&&(u.onreadystatechange=function(){var n=this.readyState;(n==="loaded"||n==="complete")&&e.loaded===!1&&(this.onreadystatechange=null,e.loaded=!0,e.callback())},u.onload=function(){e.loaded===!1&&(e.loaded=!0,e.callback())},t==="css"&&f.name==="firefox"&&(u.textContent='@import "'+n+'"',a=setInterval(function(){try{clearInterval(a);r&&r()}catch(n){}},50))),setTimeout(function(){i.getElementsByTagName("head")[0].insertBefore(u,null)},10),s[n]=e,u)}var u=r.userAgent,e=r.vendor,o=r.platform,l=[[u,"Chrome"],[u,"OmniWeb","","OmniWeb/"],[e,"Safari","Apple","Version"],[t.opera,"Opera"],[e,"iCab"],[e,"Konqueror","KDE"],[u,"Firefox"],[e,"Camino"],[u,"Netscape"],[u,"Explorer","MSIE"],[u,"Gecko","Mozilla","rv"],[u,"Netscape","Mozilla"]],a=[[o,"Windows","Win"],[o,"Mac"],[u,"iPhone","iPhone/iPod"],[o,"Linux"]],h=c(l),f=n.browser={webkit:u.indexOf("AppleWebKit/")>-1,gecko:u.indexOf("Gecko")>-1&&u.indexOf("KHTML")===-1,name:h[0],os:c(a)[0],version:h[1],load:function(n,t,i){setTimeout(function(){y(n,t,i)},10)}},s=[];if(f.ie=f.name==="explorer",f.get_current_url=v,f.ie)try{i.execCommand("BackgroundImageCache",!1,!0)}catch(p){}}(epic,window,document,navigator),function(n,t){function i(n){var t,f,o,s,e,h,c;if(this instanceof i==!1)return new i(n);t=this;f=t.transport=u();for(e in n)o=r(t[e]),s=n[e],n.hasOwnProperty(e)&&(o==="undefined"||o===r(s))&&(t[e]=s);h=t.method;c=t.context||t;t.before_request.call(c,t,n);f.open(h,t.url,!0);f.onreadystatechange=function(){t.on_ready_state_change.call(t)};h==="POST"&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.send(t.send)}var r=n.type,u=t.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};i.prototype={constructor:i,url:"",method:"GET",before_request:function(){},on_success:function(){},on_complete:function(){},on_error:function(){},on_ready_state_change:function(){var n=this,t=n.transport,e=t.readyState,r,u,i=n.context||n,f;if(e!==4)return null;try{r=t.status}catch(o){return null}if(r!==200)return null;f=t.responseText;try{u=new Function("return ("+f+")")();n.on_success.call(i,u)}catch(o){n.on_error.call(i,o)}n.on_complete.call(i)}};n.request=i}(epic,window,document,navigator),function(n,t,i){function u(n,t){return new r(n,t)}function r(n,t){var f=this,u=[],o,s;if(t?typeof t=="string"?t=r(t).elements[0]:!t.nodeType&&isFinite(t.length)&&(t=t[0]):t=i,n){if(typeof n=="string"&&(u=n==="body"&&!t&&i.body?[i.body]:p(n)?e(v(n).childNodes):g(n,t)),n instanceof r)return n;o=n.nodeType;o&&(o===11?(s=n.cloneNode(!0).childNodes,u=e(s),t=e(s)):(u=[n],t=[n]))}f.query=n;f.context=t;f.elements=u;f.length=u.length}function pt(n,t,i){n!=null&&(typeof n=="string"?i[t]=p(n)?f("fragment",n):f("textnode",n):n instanceof r?i[t]=n.elements:n.nodeName&&(i[t]=n))}function wt(n,t){return(n.compareDocumentPosition(t)&16)==16}function bt(n,t){return n=n===i||n===window?b:n,n!==t&&n.contains(t)}function kt(n){var t;return n&&typeof n=="object"&&(t=n.nodeType)&&(t===1||t===9)}function d(n){var t=(n||{}).nodeType;return t===1||t===9?ft(n):null}function g(n,t){var r=t.nodeType,i=[];if(r!=1&&r!=9&&r!=11)return i;var o=ct.exec(n)||{},u,f=o[1],s=o[2],h=o[3];return f?r==9?i=t.getElementById(f):t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&a(t,u)&&u.id===f&&(i=u):s?i=t.getElementsByTagName(s):h?i=t.getElementsByClassName(h):t.querySelectorAll&&(i=t.querySelectorAll(n)),e(i)}function f(n){n=o(n);var t=arguments,r=t[1],u=t[2];return n==="fragment"?v(r):n==="option"?nt(t[0],r,u):n==="textnode"?i.createTextNode(r):i.createElement(o(n))}function v(n,t){var r=i.createDocumentFragment(),u,f,e;if(n)if(u=i.createElement("div"),u.innerHTML=n,t)(function(){u.firstChild?(r.appendChild(u.firstChild),setTimeout(arguments.callee,0)):t(r)})();else for(e=u.childNodes,f=e.length;f--;)r.insertBefore(e[f],r.firstChild);return r}function nt(t,r,u){var f=i.createElement("option");return u===undefined&&r===!0&&(u=!0,r=undefined),r=typeof r=="undefined"?t:r,f.insertBefore(i.createTextNode(t),null),f.setAttribute("value",r),u&&f.setAttribute("selected","selected"),new n.html.selector(f)}function dt(t){var r=i.createElement("script"),u="innerText"in r?"innerText":"textContent";return r.setAttribute("type","text/javascript"),setTimeout(function(){i.getElementsByTagName("head")[0].insertBefore(r,null);r[u]=t},10),new n.html.selector(r)}function gt(t){var r=i.createElement("style");return r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=t:r.insertBefore(i.createTextNode(t),null),i.getElementsByTagName("head")[0].insertBefore(r,null),new n.html.selector(r)}function ni(n,t,i){for(var r=t||[],o=i||{},s=n.length,u=0,f,e;u<s;u++)(e=n[u],f=d(e),o[f])||(o[f]=!0,r[r.length]=e);return r}function tt(n,t){var r=o,i=r(n.className,!0).split(" "),e,u=0,f;for(t=r(t,!0).split(" "),e=t.length;u<e;u++)f=t[u],i.indexOf(f)===-1&&(i[i.length]=f);return n.className=r(i.join(" ")),n}function it(n,t){var r=o,i=r(n.className,!0).split(" "),s,u=0,f,e;for(t=r(t,!0).split(" "),s=t.length;u<s;u++)f=t[u],e=i.indexOf(f),e===-1?i[i.length]=f:i.splice(e);return n.className=r(i.join(" ")),n}function y(n){var e=this,u=e.elements,o=u.length,t,i,r,f=0;if(arguments.length===0)return(t=u[0])?(i=y[t.nodeName.toLowerCase()],i&&"get"in i&&(r=i.get(t))!==undefined)?r:(r=t.value,typeof r=="string"?r.replace(yt,""):r===null?"":r):undefined;for(;f<o;f++)(t=u[f],t.nodeType===1)&&(n===null?n="":typeof n=="number"&&(n+=""),i=y[t.nodeName.toLowerCase()],i&&("set"in i||i.set(t)!==undefined)||(t.value=n));return e}function ti(n,t,i){var u,r,f;return i=typeof i=="undefined"?!0:!1,t=t.replace(w,"$2$3$4"),u=n.style,r=u.cssText.replace(w,"$2$3$4"),r&&!/;$/.test(r)&&(r+=";"),i&&(f=function(n,i){var r=n,u=RegExp("(^|;)+("+i+"): *([-()\\w, .#%=]*)","ig");return t=t.replace(u,function(n,t,i,u){return r=u==="-"?"":i+":"+u,""}),r},t=r.replace(at,f)+t),u.cssText=t,n}function rt(n,t){var r="offset"+et(t),i;if(n){if(n=n===n.window?n.document:n,n.nodeType===9)return n=n.document.documentElement,Math.max(n.body[r],n[r]);if(i=k(n,t),i!==null&&i!=="")return i=i.replace(lt,"$1"),isNaN(i)?i:parseFloat(i)}return null}function ut(n,t){for(var i=n.elements,r=i.length;r--;)i[r].style.display=t;return n}var p=n.string.is_html,ft=n.uid.get,o=n.string.trim,et=n.string.capitalize,s=n.array,ot=s.flatten,st=s.each,ht=s.contains,e=n.object.to_array,ii=n.type,h=n.string.encode_url,ct=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,lt=/^(\d*.?\d*)px$/,w=/\ *((;)|(:))+ *([\w]*)/ig,at=/\ *((-*\**[\w]+)+): *([\-()\w, .#%]*)/ig,vt=/^(\w*(-*)?)*$/i,yt=/\r/g,c=/^\s+|\s+$/g,l=/\s+/g,b=i.documentElement,a="compareDocumentPosition"in b?wt:bt,k=window.getComputedStyle?function(n,t){var i=n.ownerDocument.defaultView.getComputedStyle(n,null);return i?i.getPropertyValue(t)||i[t]:undefined}:function(n,t){return n.curentStyle[t]};r.prototype={empty:function(){for(var t=this,i=t.elements,r=i.length,n;r--;)for(n=i[r];n.firstChild;)n.removeChild(n.firstChild);return t},insert:function(t,r){t=ot(st(e(t),pt));var f=this,y=t.length,l=f.elements[0],a=null,u,o=[];if(f.elements.length===0)return f;if(r!==undefined){for(var v=l.childNodes,p=v.length,w=n.string.trim,h=0,s,c;p--;)s=v[h++],c=s.nodeType,(c===1||c===3&&w(s.textContent)!=="")&&(o[o.length]=s);r>-1&&r<o.length&&(a=o[r])}for(h=0;y--;)(u=t[h++],u)&&(u.nodeType||(u=i.createTextNode(u)),l.insertBefore(u,a));return f},append:function(){return this.insert(arguments,undefined)},html:function(n){var i=this,t=i.elements[0];if(t){if(typeof n=="undefined")return t.innerHTML;t.innerHTML=n}return i},remove:function(){for(var i=this,r=i.elements,f=r.length,n=0,u,t;n<f;n++)t=r[n],u=t.parentNode,u.removeChild(t);return i},value:y,get:function(n){var t=this.elements,i=t.length-1;return n<0?n=0:n>i&&(n=i),t[n]},first:function(){return new r(this.elements[0])},find:function(n){for(var u=this.elements,s=u.length,t=0,i=new r,f=i.elements,h={},e,o;t<s;t++)e=u[t],o=g(n,e),ni(o,f,h);return i.length=f.length,i},parent:function(){return(this.elements[0]||{}).parentNode},parents:function(n){for(var i=new r(n),f=i.elements,e=this.elements[0]||{},u=[],t=e;t=t.parentNode;)ht(f,t)&&(u[u.length]=t);return i.elements=u,i},has_class:function(n){for(var r=this,t=r.elements,u=t.length,i=0;i<u;)if(t[i++].className.indexOf(n)>-1)return!0;return!1},add_class:function(n){for(var i=this,r=i.elements,u=r.length,t=0;t<u;t++)tt(r[t],n);return i},toggle_class:function(n){for(var i=this,r=i.elements,u=r.length,t=0;t<u;t++)it(r[t],n);return i},remove_class:function(n){for(var i=this,f=new RegExp(n.replace(c,"").replace(l,"|"),"g"),r=i.elements,u=r.length,t;u--;)t=r[u],t.className=t.className.replace(f,"").replace(l," ").replace(c," ");return i},replace_class:function(n,t){for(var r=this,u=r.elements,f=u.length,i;f--;)i=u[f],i.className=i.className.replace(n,t).replace(l," ").replace(c," ");return r},width:function(){return rt(this.elements[0],"width")},height:function(){return rt(this.elements[0],"height")},css:function(n){var i=this,t=i.elements[0];return n?vt.test(n)?k(t,n):(ti(t,n),i):t.style.cssText},show:function(){return ut(this,"")},hide:function(){return ut(this,"none")},contains:function(n){return a(this.elements[0],n)},prop:function(n,t){var f=this,r=f.elements,e=r.length,i,u=0;if(t===undefined)return i=r[0],i?i[n]:undefined;for(;u<e;u++)i=r[u],i&&(i[n]=t);return f},attr:function(n,t){var i=this;return t===undefined?i.get_attribute(n):i.set_attribute(n,t)},remove_attr:function(n){for(var r=this,u=r.elements,f=u.length,t,i=0;i<f;i++)t=u[i],t&&t.removeAttribute(n);return r},get_attribute:function(n){var i=this,t=i.elements[0];return t&&typeof t.getAttribute=="function"?t.getAttribute(n):undefined},set_attribute:function(n,t){for(var f=this,e=f.elements,o=e.length,i,r,u=0;u<o;u++)r=e[u],i=r.nodeType,r&&(i==1||i==9||i==11)&&r.setAttribute(n,t);return f},remove_attribute:function(n){for(var r=this,u=r.elements,f=u.length,t,i=0;i<f;i++)t=u[i],t&&t.removeAttribute(n);return r},serialize:function(){for(var n="",e=n,i=n,o="&",s=this,c,l,r=s.find("select").elements,t,f,u=r.length;u--;)(t=r[u],(f=t.id||t.name||n)!=n)&&(i+=(i!=n?o:n)+f+"="+h(t.value));for(r=s.find("input").elements,u=r.length;u--;)if(t=r[u],(f=t.id||t.name||n)!=n)if(e=i!=n?o:n,l=t.type.toLowerCase(),value=h(t.value),"checkbox,radio".indexOf(l)>-1)i+=e+f+"="+(t.checked?value:n);else{if(c=window[t.getAttribute("encrypt-method")],c)try{value=c(value)}catch(a){}i+=e+f+"="+value}for(r=s.find("textarea").elements,u=r.length;u--;)(t=r[u],(f=t.id||t.name||n)!=n)&&(i+=(i!=n?o:n)+f+"="+h(t.value));return i}};f.document_fragment=v;f.option=nt;f.script=dt;f.style=gt;u.contains=a;u.selector=r;u.create=f;u.add_class=tt;u.toggle_class=it;u.is_node=kt;u.get_uid=d;n.html=u}(epic,window,document),function(n,t,i){function r(){}function l(t,i,r,f){var s;if(typeof i!="string")return n.fail("[event_name] must be a valid event name.");var e=h(t),c=u[e]||(u[e]={}),a=y(r),l=e+"_"+i+"_"+a;return o[l]?!1:(s={context:t,method:r,event_data:f||{}},(i==="mouseover"||i==="mouseout")&&(s.context={element:t,method:r},s.method=function(n,t){var i=this,r=i.element;p(r,n.related_target)||i.method.call(r,n,t)}),(c[i]||(c[i]=[])).push(s),w(t,i,e),o[l]=!0,!0)}function k(){}function d(n,r){var u=i.createEvent("HTMLEvents");return u.initEvent(r,!0,!0,t,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(u),n}function g(n,t){var r=i.createEventObject();return n.fireEvent("on"+t,r),n}function nt(n,t,i){var r=i+"_"+t;f[r]||(f[r]=!0,n.addEventListener(t,a,!1))}function tt(n,t,i){var r=i+"_"+t;f[r]||(f[r]=!0,n.attachEvent("on"+t,a))}function a(n){for(var i=n instanceof e?n:new e(n),t=i.target,r=[t];t=t.parentNode;)r[r.length]=t;return it(i,r),i.propagation_stopped===!1&&(n.cancelBubble=!0,n.stopPropagation()),this}function it(n,t){for(var l=t.length,f,i,s,e,o=0,r,c,a=n.type;o<l;o++)if(s=t[o],e=u[h(s)],e&&(f=e[a]))for(c=f.length,r=0;r<c;r++)if(i=f[r],i.method.call(i.context,n,i.event_data),n.propagation_stopped===!0)return n;return n}function e(n){var o=n.target||n.srcElement||i,l=b[n.type]||n.type,y=n.fromElement,d=y===o?n.toElement:n.relatedTarget||y,s=n.which,t=s?s:t,p=n.charCode,h="",e,a=0,w,k,v=!1,u,f,r;n.altKey?e="ALT":n.ctrlKey||n.metaKey?e="CTRL":n.shiftKey||p===16?e="SHIFT":t===20&&(e="CAPSLOCK");t=s===undefined&&p===undefined?t:s!==0&&p!==0?s:t;h=t>31?String.fromCharCode(t):"";(t>96&&t<123&&e==="SHIFT"||t>64&&t<91&&e!=="SHIFT")&&(v=!0);(l==="keydown"||l==="keyup")&&(h==="CAPSLOCK"&&(v=!v),t>64&&t<91&&e!=="SHIFT"&&(t=t+32,h=String.fromCharCode(t)));c[t]&&(h=c[t]);l==="mousewheel"&&(a=n.detail?n.detail*-1:n.wheelDelta/40,a=a>0?1:-1);typeof n.pageX=="undefined"&&n.clientX!==null&&(u=i.documentElement,f=i.body,w=n.clientX+(u&&u.scrollLeft||f&&f.scrollLeft||0)-(u&&u.clientLeft||f&&f.clientLeft||0),k=n.clientY+(u&&u.scrollTop||f&&f.scrollTop||0)-(u&&u.clientTop||f&&f.clientTop||0));r=this;r.original=n;r.event_phase=n.eventPhase;r.target=o.nodeType===3?o.parentNode:o;r.type=l;r.from_element=y;r.to_element=n.toElement||o;r.pagex=w;r.pagey=k;r.keycode=t;r.keyvalue=h;r.metaKey=e;r.delta=a;r.capslock=v;r.button=n.button;r.related_target=d;r.propagation_stopped=!1}var u={},o={},f={},y=n.uid.get,p=n.html.contains,w=i.addEventListener?nt:tt,s=i.createEvent?d:g,h=n.html.get_uid,b={mouseenter:"mouseover",mouseleave:"mouseout",DOMMouseScroll:"mousewheel"},c={8:"BACKSPACE",9:"TAB",10:"ENTER",13:"ENTER",20:"CAPSLOCK",27:"ESC",33:"PAGEUP",34:"PAGEDOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE"},v;e.prototype={prevent_default:function(){var n=this;n.original.preventDefault();n.original.result=!1},stop_propagation:function(){var n=this,t=n.original;t.cancelBubble=!0;t.stopPropagation();n.propagation_stopped=!0},stop:function(){var n=this;n.prevent_default();n.stop_propagation()}};r.add=l;r.remove=k;r.trigger=s;r.registry=u;n.event=r;v={on:function(n,t,i){for(var r=this,u=r.elements,f=u.length;f--;)l(u[f],n,t,i);return r},click:function(n,t){var i=this;if(arguments.length===0)i.trigger("click");else i.on("click",n,t);return i},trigger:function(n){for(var t=this,i=t.elements,r=i.length;r--;)s(i[r],n);return t}};n.object.copy(v,n.html.selector.prototype)}(epic,window,document),function(n){function t(){}function i(n){var t=this;u(r(f,n),t,!0)}var r=n.object.merge,u=n.object.copy,f={on_start:t,execute:t,on_stop:t,interval:1e3};i.prototype={construtor:i,start:function(){var n=this;n.timer=setInterval(function(){n.execute.call(n)},n.interval);n.on_start.call(n)},stop:function(){var n=this;clearInterval(n.timer);n.on_stop.call(n)}};n.task=i}(epic),function(n,t){function i(n){var t=this;f(u(e,n),t,!0)}var u=n.object.merge,f=n.object.copy,r=n.task,e={tasks:{}};i.prototype={construtor:i,add:function(n,i){var u=this,f=u.tasks;if(!(i instanceof r))throw new Error("Not a valid task");if(f[n]!==t)throw new Error("Task id ["+n+"] is already taken.");return f[n]=i,u},remove:function(n){var t=this;return typeof n=="string"&&delete t.tasks[n],t},start:function(n){if(typeof n!="string")throw new Error("The id parameter must be a string.");var t=this,i=t.tasks[n];return t.current&&t.current.stop(),t.current=i,i.start(),t},stop:function(n){var t=this,i=t.tasks[n];return i instanceof r&&(t.current=null,i.stop()),t}};n.worker=i}(epic);